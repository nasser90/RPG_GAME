<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>depth = -3001;
item_cre = false;

alpha = 0.8;

num_of_grid=ceil(sqrt(obj_game.inventoryM));// how many tiles in each (x-y)-axis

padding = 32;

_x = view_xview[0];
_y = view_yview[0];
ex = view_wview[0];
ey = view_hview[0];

selected = 0;
inhand = -1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// change the selected item

if(input.left){
    if(selected % num_of_grid != 0)
    selected -= 1;
}
else if(input.up){
    if(floor(selected / num_of_grid) != 0)
    selected -= num_of_grid;
}
else if(input.down){
    if(floor(selected / num_of_grid) != num_of_grid -1)
    selected += num_of_grid;
}
else if(input.right){
    if(selected % num_of_grid != num_of_grid -1 )
    selected += 1;
}


</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// move item

if(input.A){
    if(inhand == -1){
        inhand = selected;
    }
    else{
        if(selected &lt;= obj_game.inventoryM){
            scr_item_move(inhand,selected);
            inhand = -1;
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// drawing the "main" menu

draw_set_alpha(0.97);
draw_set_colour(make_colour_rgb(192,192,192));
draw_roundrect_ext(_x+padding,_y+padding, _x +ex -padding,_y + ey-padding,30,30,0);
draw_set_colour(make_colour_rgb(128,128,128));
draw_roundrect_ext(_x+padding,_y+padding,_x + ex-padding,_y + ey-padding,30,30,1);

draw_line(_x + ex / 2, _y + padding ,_x + ex / 2 ,_y + ey - padding);
/*
draw_set_colour(make_colour_rgb(150,150,150));
draw_rectangle(_x +(ex/2)+ padding,_y+(padding*2), _x +(ex)-(padding*2), _y + ey-(padding*2),0);
*/
draw_rectangle_grided(_x +(ex/2)+ padding,_y+(padding*2), _x +(ex)-(padding*2), _y + ey-(padding*2),num_of_grid,make_colour_rgb(224,224,224),make_colour_rgb(128,128,128),make_colour_rgb(128,128,128));




</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// drawing the items

//       xstart      ,     ystart    ,        xend        ,       yend
//_x +(ex/2)+ padding,_y+(padding*2), _x +(ex)-(padding*2), _y + ey-(padding*2)

var _xstart = _x +(ex/2)+ padding;
var _ystart = _y+(padding*2);
var _xend = _x +(ex)-(padding*2);
var _yend = _y + ey-(padding*2);

var x_grid_size = abs(_xstart - _xend)/num_of_grid;
var y_grid_size = abs(_ystart - _yend)/num_of_grid;


for(var i=0;i &lt; num_of_grid;i++){
    for(var j=0;j &lt; num_of_grid;j++){
        draw_text( _xstart+(j*x_grid_size)+6,_ystart+(i*y_grid_size)+6,(i*num_of_grid)+j+1);
        if(!item_cre){
            with(instance_create(_xstart+(j*x_grid_size)+(x_grid_size/2),_ystart+(i*y_grid_size)+(y_grid_size/2),obj_item_menu)){
                if((i*other.num_of_grid)+j &lt; obj_game.inventoryM){
                    itemI = obj_game.inventory[(i*other.num_of_grid)+j];
                }else {
                    itemI =-1;
                }
                image_xscale = (x_grid_size - (other.padding*2)) / sprite_width;
                image_yscale = (y_grid_size  - (other.padding*2)) / sprite_height;
            }
        }
        
    }
}
item_cre = true;

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// instance destroy if out of menu

if(obj_game.state != st_item_menu){
    instance_destroy();
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// draw the selected item

var xs = _x +(ex/2)+ padding +(selected % num_of_grid)*x_grid_size;
var ys = _y+(padding*2) + (floor(selected / num_of_grid))*y_grid_size;

draw_set_colour(c_green);
for(var i =1;i&lt; 4;i++){
    draw_rectangle( xs + i , ys + i , xs + x_grid_size - i, ys + y_grid_size - i, 1 );

}


</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
